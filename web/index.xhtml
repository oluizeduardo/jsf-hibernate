<?xml version='1.0' encoding='UTF-8' ?>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title>Book Register</title>
    </h:head>
    <h:body>
        
        <h1>Library System - Book Register</h1>
        
        
        
        <h:form id="form-base">
        <p:panel id="panel-base" header="Book Register">
            <h:form id="form-fields">
                <p:growl autoUpdate="true"/>
                <h:panelGrid columns="2">
                    <p:outputLabel value="Id." for="id"/>
                    <p:inputText id="id" value="#{bookBean.book.id}" required="true" 
                                 requiredMessage="Id is a required field!" />

                    <p:outputLabel value="Title" for="title"/>
                    <p:inputText id="title" value="#{bookBean.book.title}" required="true" 
                                 requiredMessage="Title is a required field!" maxlength="40" />

                    <p:outputLabel value="Author" for="author"/>
                    <p:inputText id="author" value="#{bookBean.book.author}" required="true" 
                                 requiredMessage="Author is a required field!" maxlength="40"/>

                    <p:outputLabel value="Publisher" for="publisher"/>
                    <p:inputText id="publisher" value="#{bookBean.book.publisher}" maxlength="30"/>

                    <p:outputLabel value="Genre" for="genre"/>
                    <p:inputText id="genre" value="#{bookBean.book.genre}" maxlength="20"/>
                
                    <p:commandButton value="Save" action="#{bookBean.save()}" update=":form-base"/>
                </h:panelGrid>
            </h:form>

            <p/>
            
            <h:form id="form-table">                
                <p:dataTable var="book" value="#{bookBean.list}" >
                    <p:column>
                        <f:facet name="header">Title</f:facet>
                        #{book.title}
                    </p:column>

                    <p:column>
                        <f:facet name="header">Author</f:facet>
                        #{book.author}
                    </p:column>

                    <p:column>
                        <f:facet name="header">Publisher</f:facet>
                        #{book.publisher}
                    </p:column>

                    <p:column>
                        <f:facet name="header">Genre</f:facet>
                        #{book.genre}
                    </p:column>
                </p:dataTable>
            </h:form>
        </p:panel>
        </h:form>
    </h:body>
</html>

